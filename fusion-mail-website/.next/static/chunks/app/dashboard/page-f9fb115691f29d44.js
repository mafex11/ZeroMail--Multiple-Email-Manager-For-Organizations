(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{246:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var t=r(5155),a=r(2108),i=r(2115),l=r(6695),n=r(285),c=r(1264),d=r(1007),o=r(7951),u=r(9946);let m=(0,u.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var x=r(381);let h=(0,u.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var f=r(6671),p=r(6874),j=r.n(p),g=r(6766);function N(){let{status:e}=(0,a.useSession)(),[s,r]=(0,i.useState)(null),[u,p]=(0,i.useState)(!0);(0,i.useEffect)(()=>{"authenticated"===e?N():"unauthenticated"===e&&p(!1)},[e]);let N=async()=>{try{let e=await fetch("/api/user/profile");if(e.ok){let s=await e.json();r(s)}else f.o.error("Failed to load profile")}catch(e){console.error("Error fetching profile:",e),f.o.error("Failed to load profile")}finally{p(!1)}};if("loading"===e||u)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if("unauthenticated"===e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)(l.Zp,{className:"w-full max-w-md",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(c.A,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),(0,t.jsx)(l.ZB,{children:"Sign In Required"}),(0,t.jsx)(l.BT,{children:"Please sign in to access your dashboard"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(j(),{href:"/",children:(0,t.jsx)(n.$,{className:"w-full",children:"Go to Home"})})})]})});if(!s)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)(l.Zp,{className:"w-full max-w-md",children:[(0,t.jsxs)(l.aR,{className:"text-center",children:[(0,t.jsx)(l.ZB,{children:"Profile Not Found"}),(0,t.jsx)(l.BT,{children:"Unable to load your profile information"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(n.$,{onClick:N,className:"w-full",children:"Retry"})})]})});let b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,t.jsx)("div",{className:"min-h-screen py-12",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-6xl px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your Fusion Mail account and subscription"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 mr-2"}),"Profile Information"]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[s.image?(0,t.jsx)(g.default,{src:s.image,alt:s.name,width:64,height:64,className:"rounded-full"}):(0,t.jsx)("div",{className:"h-16 w-16 rounded-full bg-blue-600 flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"h-8 w-8 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:s.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:s.email}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Member since ",b(s.createdAt)]})]})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"Connected Gmail Accounts"]}),(0,t.jsx)(l.BT,{children:"Gmail accounts connected to your Fusion Mail extension"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:s.accounts.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[e.profilePicture?(0,t.jsx)(g.default,{src:e.profilePicture,alt:e.email,width:32,height:32,className:"rounded-full"}):(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.email}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Added ",b(e.addedAt)]})]})]}),(0,t.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})]},s))})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Current Plan"]})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsxs)("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium mb-2 ".concat((e=>{switch(e){case"free":default:return"bg-gray-100 text-gray-800";case"weekly":return"bg-blue-100 text-blue-800";case"monthly":return"bg-purple-100 text-purple-800";case"lifetime":return"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-800"}})(s.subscription.plan)),children:[s.subscription.plan.charAt(0).toUpperCase()+s.subscription.plan.slice(1)," Plan"]}),(0,t.jsx)("div",{className:"inline-block px-2 py-1 rounded text-xs font-medium ml-2 ".concat("active"===s.subscription.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:s.subscription.status})]}),s.subscription.startDate&&(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Started:"}),(0,t.jsx)("span",{className:"text-foreground",children:b(s.subscription.startDate)})]}),s.subscription.endDate&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Expires:"}),(0,t.jsx)("span",{className:"text-foreground",children:b(s.subscription.endDate)})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsx)("h4",{className:"font-medium text-foreground mb-2",children:"Plan Features:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,t.jsxs)("li",{children:["• AI Queries: ",-1===s.subscription.features.aiQueries?"Unlimited":"".concat(s.subscription.features.aiQueries," per day")]}),(0,t.jsxs)("li",{children:["• Email Summaries: ",-1===s.subscription.features.emailSummaries?"Unlimited":"Top ".concat(s.subscription.features.emailSummaries," emails")]}),(0,t.jsxs)("li",{children:["• Advanced Search: ",s.subscription.features.advancedSearch?"Yes":"No"]}),(0,t.jsxs)("li",{children:["• OTP Auto-fill: ",s.subscription.features.otpAutoFill?"Yes":"No"]}),(0,t.jsxs)("li",{children:["• Priority Support: ",s.subscription.features.prioritySupport?"Yes":"No"]}),(0,t.jsxs)("li",{children:["• Early Access: ",s.subscription.features.earlyAccess?"Yes":"No"]})]})]}),(0,t.jsx)("div",{className:"mt-6 space-y-2",children:(0,t.jsx)(j(),{href:"/pricing",children:(0,t.jsxs)(n.$,{className:"w-full",children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})})})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 mr-2"}),"Quick Actions"]})}),(0,t.jsxs)(l.Wu,{className:"space-y-3",children:[(0,t.jsxs)(n.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Download Extension"]}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Update Profile"]}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full justify-start",children:[(0,t.jsx)(h,{className:"h-4 w-4 mr-2"}),"View Usage History"]})]})]})]})]})]})})}},285:(e,s,r)=>{"use strict";r.d(s,{$:()=>d});var t=r(5155),a=r(2115),i=r(4624),l=r(2085),n=r(9434);let c=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:d=!1,...o}=e,u=d?i.DX:"button";return(0,t.jsx)(u,{className:(0,n.cn)(c({variant:a,size:l,className:r})),ref:s,...o})});d.displayName="Button"},1218:(e,s,r)=>{Promise.resolve().then(r.bind(r,246))},6695:(e,s,r)=>{"use strict";r.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n,wL:()=>u});var t=r(5155),a=r(2115),i=r(9434);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},7951:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9946).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},9434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(2596),a=r(9688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[934,874,162,441,684,358],()=>s(1218)),_N_E=e.O()}]);