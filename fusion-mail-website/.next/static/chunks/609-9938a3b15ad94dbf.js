"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{285:(e,r,a)=>{a.d(r,{$:()=>d});var t=a(5155),i=a(2115),s=a(4624),o=a(2085),n=a(9434);let l=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,r)=>{let{className:a,variant:i,size:o,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,t.jsx)(u,{className:(0,n.cn)(l({variant:i,size:o,className:a})),ref:r,...c})});d.displayName="Button"},6609:(e,r,a)=>{a.d(r,{default:()=>x});var t=a(5155),i=a(2115),s=a(2108),o=a(285),n=a(6695),l=a(9946);let d=(0,l.A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),c=(0,l.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var u=a(7951);let p=(0,l.A)("infinity",[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]]);var m=a(6671),f=a(9509);let h=[{id:"free",name:"Free",price:"₹0",period:"forever",description:"Perfect for trying out Fusion Mail",features:["3 AI chat queries per day","Summaries for top 3 emails only","OTP auto-fill","Basic email management"],buttonText:"Current Plan",popular:!1,icon:(0,t.jsx)(d,{className:"h-5 w-5"})},{id:"weekly",name:"Weekly",price:"₹6.99",period:"per week",description:"Great for regular users",features:["20 AI chat queries per day","Full email content & summaries","Expanded search & analytics","OTP auto-fill","Priority support"],buttonText:"Choose Weekly",popular:!1,icon:(0,t.jsx)(c,{className:"h-5 w-5"})},{id:"monthly",name:"Monthly",price:"₹9.99",period:"per month",description:"Most popular choice",features:["Unlimited AI chat","Full email content & summaries","Expanded search & analytics","OTP auto-fill","Priority support","Early access to new features"],buttonText:"Choose Monthly",popular:!0,icon:(0,t.jsx)(u.A,{className:"h-5 w-5"})},{id:"lifetime",name:"Lifetime",price:"₹14.99",period:"one-time",description:"Best value for power users",features:["Unlimited AI chat","Full email content & summaries","Expanded search & analytics","OTP auto-fill","Priority support","Early access to new features","Lifetime updates"],buttonText:"Choose Lifetime",popular:!1,icon:(0,t.jsx)(p,{className:"h-5 w-5"})}];function x(){let{data:e}=(0,s.useSession)(),[r,a]=(0,i.useState)(null),l=async r=>{if(!e)return void m.o.error("Please sign in to subscribe");if("free"===r)return void m.o.info("You are already on the free plan");a(r);try{var t,i,s;let o=await fetch("/api/subscription/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:r})}),n=await o.json();if(!o.ok)throw Error(n.error||"Failed to create order");let l={key:f.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,amount:n.amount,currency:n.currency,name:"Fusion Mail",description:"".concat(null==(t=h.find(e=>e.id===r))?void 0:t.name," Plan Subscription"),order_id:n.orderId,handler:async function(e){try{let a=await fetch("/api/subscription/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,plan:r})}),t=await a.json();if(a.ok)m.o.success("Payment successful! Your subscription is now active."),window.location.reload();else throw Error(t.error||"Payment verification failed")}catch(e){console.error("Payment verification error:",e),m.o.error("Payment verification failed. Please contact support.")}},prefill:{name:(null==(i=e.user)?void 0:i.name)||"",email:(null==(s=e.user)?void 0:s.email)||""},theme:{color:"#2563eb"},modal:{ondismiss:function(){a(null)}}};new window.Razorpay(l).open()}catch(e){console.error("Subscription error:",e),m.o.error("Failed to initiate payment. Please try again."),a(null)}};return(0,t.jsxs)("div",{className:"py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Choose Your Plan"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Unlock the full potential of AI-powered email management with our flexible pricing plans."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto px-4",children:h.map(e=>(0,t.jsxs)(n.Zp,{className:"relative ".concat(e.popular?"border-blue-500 shadow-lg scale-105":"border-border"," ").concat("lifetime"===e.id?"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20":""),children:[e.popular&&(0,t.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,t.jsx)("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Popular"})}),"lifetime"===e.id&&(0,t.jsx)("div",{className:"absolute -top-3 right-3",children:(0,t.jsx)("span",{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Best Value"})}),(0,t.jsxs)(n.aR,{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[e.icon,(0,t.jsx)(n.ZB,{className:"ml-2",children:e.name})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-foreground",children:e.price}),(0,t.jsxs)("span",{className:"text-muted-foreground ml-1",children:["/",e.period]})]}),(0,t.jsx)(n.BT,{children:e.description})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("ul",{className:"space-y-3",children:e.features.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)(c,{className:"h-4 w-4 text-green-500 mr-3 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-foreground",children:e})]},r))})}),(0,t.jsx)(n.wL,{children:(0,t.jsx)(o.$,{className:"w-full",variant:e.popular?"default":"outline",onClick:()=>l(e.id),disabled:r===e.id||"free"===e.id,children:r===e.id?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.buttonText})})]},e.id))}),(0,t.jsx)("script",{src:"https://checkout.razorpay.com/v1/checkout.js",async:!0})]})}},6695:(e,r,a)=>{a.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>n,wL:()=>u});var t=a(5155),i=a(2115),s=a(9434);let o=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});o.displayName="Card";let n=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...i})});n.displayName="CardHeader";let l=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});l.displayName="CardTitle";let d=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",a),...i})});d.displayName="CardDescription";let c=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent";let u=i.forwardRef((e,r)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",a),...i})});u.displayName="CardFooter"},7951:(e,r,a)=>{a.d(r,{A:()=>t});let t=(0,a(9946).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},9434:(e,r,a)=>{a.d(r,{cn:()=>s});var t=a(2596),i=a(9688);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,i.QP)((0,t.$)(r))}}}]);